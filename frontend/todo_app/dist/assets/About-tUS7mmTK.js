import{r as a,j as e}from"./index-nmOx9_9Z.js";import{L as p}from"./logoutAppbar-kOH0Wc8S.js";function j(){const[i,l]=a.useState(""),[r,o]=a.useState(""),[c,m]=a.useState(""),[d,u]=a.useState("");a.useEffect(()=>{fetch("http://localhost:3000/user/info",{headers:{"Content-Type":"application/json",userid:localStorage.getItem("userId")}}).then(async t=>{let s=await t.json();console.log(s),l(s.username),o(s.email)})},[]);function x(){fetch("http://localhost:3000/user/infoupdate",{method:"PUT",body:JSON.stringify({username:c,email:d}),headers:{"Content-Type":"application/json",userid:localStorage.getItem("userId")}}).then(async t=>{let s=await t.json();s.success&&(alert("User info updated successfully"),fetch("http://localhost:3000/user/info",{headers:{"Content-Type":"application/json",userid:localStorage.getItem("userId")}}).then(async h=>{let n=await h.json();console.log(n),l(n.username),o(n.email)})),console.log(s)})}return e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsxs("div",{className:"bg-[#d7a43b]",children:[e.jsxs("div",{className:"m-4 text-xl text-white",children:["Usernme- ",i]}),e.jsxs("div",{className:"m-4 text-xl text-white",children:["Email- ",r]})]}),e.jsx("div",{className:"text-white text-2xl",children:"Update your info here"}),e.jsxs("div",{className:"m-2 text-white text-2xl",children:["Username - ",e.jsx("input",{className:"text-black",type:"text",onChange:t=>{m(t.target.value)}})]}),e.jsxs("div",{className:"m-2 text-white text-2xl",children:["Email- ",e.jsx("input",{className:"text-black",type:"text",onChange:t=>{u(t.target.value)}})]}),e.jsx("div",{children:e.jsx("button",{onClick:x,className:"font-medium bg-[#d7a43b] shadow-lg rounded-lg text-white m-2 p-2",children:"Update info"})})]})}export{j as default};
